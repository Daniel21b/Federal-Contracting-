<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Federal Contracting Bar Chart Race</title>
  <link rel="stylesheet" href="../CSS/styles.css"/>
  <link rel="stylesheet" href="../CSS/map.css"/>
  <link rel="stylesheet" href="../CSS/bar-chart-visualization.css"/>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script>
    // Save D3 v4 reference for the map
    var d3v4 = d3;
  </script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script src="https://unpkg.com/flubber@0.4.2/build/flubber.min.js"></script>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script>
    // Save D3 v6 reference for the chart
    var d3v6 = d3;
    // Restore D3 v4 reference for the map
    d3 = d3v4;
  </script>
</head>
<body>
  <div class="main-content">
    <h1>Tracing Federal Dollars: A State-by-State Exploration of U.S. Government Contracting</h1>

    <section id="map-section">
      <div class="map-header">
        <h2>State View</h2>
        <h2 id="state-name">California</h2>
      </div>

      <div class="map-grids">
        <div class="grid-container">
          <div class="inner-grid-container">
            <div class="region-selector">
              <h3>Select State</h3>
              <ul>
                <li><button onclick="morphToStateById('CA')">CA</button></li>
                <li><button onclick="morphToStateById('MD')">MD</button></li>
                <li><button onclick="morphToStateById('VA')">VA</button></li>
              </ul>
            </div>
            <div class="data-display">
              <div id="ca-description" class="state-description">
                <p>California stands out in federal contracting with over $3.3B in annual contracts, driven by its unique blend of aerospace, technology, and research sectors. Key players include Lawrence Livermore National Security managing nuclear research facilities, Caltech operating JPL for NASA, and major defense contractors like Northrop Grumman and Boeing. The state's contracting landscape is distinguished by significant investments in space technology (SpaceX), renewable energy research, and advanced healthcare systems through UC Regents and Stanford University.</p>
              </div>
              <div id="md-description" class="state-description" style="display: none;">
                <p>Maryland's federal contracting ecosystem is anchored by Johns Hopkins University's $2.5B+ in annual contracts, primarily in healthcare and defense research. The state uniquely combines biomedical research through NIH contracts, cybersecurity initiatives via NSA partnerships, and defense technology through contractors like Lockheed Martin. Notable is the concentration of health-focused contracts, with significant investments in medical research facilities and healthcare IT modernization projects.</p>
              </div>
              <div id="va-description" class="state-description" style="display: none;">
                <p>Virginia leads in federal IT and defense services, with Huntington Ingalls ($3.3B) and Atlantic Diving Supply ($3.1B) as top contractors. The state's unique contracting profile includes major system integrators like Booz Allen Hamilton ($2.1B) and MITRE Corporation, specializing in defense technology and federal IT modernization. Northern Virginia's technology corridor hosts specialized contractors in cybersecurity, cloud computing, and intelligence systems, while Hampton Roads dominates in naval and maritime contracts.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="grid-container purple-grid">
          <div id="map-vis">
            <svg width="580" height="350"></svg>
          </div>
        </div>
      </div>
    </section>

    
    <h1 id="title">Federal Contracting by State (2020-2024)</h1>
    <div id="controls">
        <button class="state-button active" data-state="california">California</button>
        <button class="state-button" data-state="maryland">Maryland</button>
        <button class="state-button" data-state="virginia">Virginia</button>
        <button id="restart-button" class="control-button">Restart</button>
        <button id="pause-button" class="control-button">Pause</button>
    </div>
   
    <div id="chart"></div>
    <script src="../JS/barchart.js"></script>

    <!-- Add overview section -->
    <section id="overview-section" style="border: none; padding: 40px 20px;">
      <div style="max-width: 1200px; margin: 0 auto; text-align: left;">
        <h2 style="color: white; margin-bottom: 30px; font-size: 2em;">Understanding Federal Contracting</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px;">
          <div>
            <h3 style="color: #cd8b4e; margin-bottom: 20px;">Why This Matters</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              Federal contracting is a critical component of U.S. government operations, representing over $600 billion in annual spending. This visualization helps demystify how taxpayer dollars are allocated across different states and contractors. By understanding these patterns, we can better grasp the economic impact of government spending and its role in driving innovation and development across various sectors.
            </p>
          </div>
          <div>
            <h3 style="color: #cd8b4e; margin-bottom: 20px;">State-Level Impact</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              Our analysis focuses on three key states that exemplify different aspects of federal contracting:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>California: Leader in aerospace, technology, and research contracts, showcasing innovation-driven spending</li>
                <li>Maryland: Hub for healthcare, cybersecurity, and defense research, highlighting the intersection of public health and national security</li>
                <li>Virginia: Epicenter of defense and IT services, demonstrating the concentration of government contractors near the capital</li>
              </ul>
            </p>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="color: #cd8b4e; margin-bottom: 20px;">Interactive Learning</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              This visualization employs several interactive elements to enhance understanding:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Animated bar chart race showing the dynamic evolution of contract values</li>
                <li>Interactive state selection to explore regional differences</li>
                <li>Statistics displaying current data points</li>
                <li>Color-coded categories for easy pattern recognition</li>
              </ul>
            </p>
          </div>
          <div>
            <h3 style="color: #cd8b4e; margin-bottom: 20px;">Data Insights</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              Key patterns revealed through our visualization:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Concentration of high-value contracts in specific industry sectors</li>
                <li>Year-over-year trends in contract allocation</li>
                <li>Geographic distribution of major contractors</li>
                <li>Relationship between contract types and state specializations</li>
              </ul>
            </p>
          </div>
        </div>
      </div>
    </section>
    <section id="treemap-section" style="border: none; padding: 40px 20px;">
      <div style="max-width: 1200px; margin: 0 auto;">
        <h2 style="color: white; margin-bottom: 30px; font-size: 2em;">Federal Contracting Landscape by Category</h2>
        
        <div id="treemap-controls" style="margin-bottom: 20px;">
          <label for="yearSelect" style="color: white; font-weight: bold;">Select Year:</label>
          <select id="yearSelect">
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
          </select>
          <label for="yearSlider" id="yearLabel">Year: 2021</label>
          <input type="range" id="yearSlider" min=2021 max="2024" step="1" value="2021" />
        </div>
        <div id="treemap" style="width: 100%; height: 600px;"></div>
      </div>
    </section>
    
    </section>

    
    <!-- Add conclusion section -->
    <section id="conclusion-section" style="border: none; padding: 40px 20px; margin-bottom: 60px;">
      <div style="max-width: 1200px; margin: 0 auto; text-align: left;">
        <h2 style="color: white; margin-bottom: 30px; font-size: 2em;">Understanding the Impact of Federal Contracting</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 40px; margin-bottom: 40px;">
          <div>
            <h3 style="color: #d5567c; margin-bottom: 20px;">Economic Dynamics</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              Our visualization reveals how federal contracts shape regional economies through:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Job creation in specialized sectors</li>
                <li>Investment in research and development</li>
                <li>Support for small and large businesses</li>
                <li>Promotion of technological innovation</li>
              </ul>
            </p>
          </div>
          <div>
            <h3 style="color: #d5567c; margin-bottom: 20px;">Sector Evolution</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              The data highlights shifting priorities in federal investment:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Growth in digital transformation projects</li>
                <li>Emphasis on cybersecurity infrastructure</li>
                <li>Investment in sustainable technologies</li>
                <li>Focus on healthcare modernization</li>
              </ul>
            </p>
          </div>
          <div>
            <h3 style="color: #d5567c; margin-bottom: 20px;">Regional Patterns</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              State-specific contracting patterns reveal:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Specialized industry clusters</li>
                <li>Strategic geographic advantages</li>
                <li>Policy influence on contract distribution</li>
                <li>Innovation ecosystem development</li>
              </ul>
            </p>
          </div>
        </div>

        <div style="background: #1a1a1a; border: 2px solid white; padding: 30px; border-radius: 8px; margin-top: 20px;">
          <h3 style="color: #cda14e; margin-bottom: 20px;">Educational Insights</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
            <div style="line-height: 1.6;">
              <h4 style="color: white; margin-bottom: 15px;">Core Concepts Demonstrated:</h4>
              <ul style="margin-left: 20px;">
                <li>How government spending impacts local economies</li>
                <li>The relationship between policy decisions and contract allocation</li>
                <li>Patterns in public-private sector collaboration</li>
                <li>The role of competition in driving innovation</li>
              </ul>
            </div>
            <div style="line-height: 1.6;">
              <h4 style="color: white; margin-bottom: 15px;">Learning Outcomes:</h4>
              <ul style="margin-left: 20px;">
                <li>Federal budget allocation processes</li>
                <li>Regional economic development strategies</li>
                <li>Industry specialization patterns</li>
                <li>Data-driven policy analysis methods</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Add methodology and sources section before the footer -->
    <section id="methodology-section" style="border: none; padding: 40px 20px; margin-bottom: 60px; borde;">
      <div style="max-width: 1200px; margin: 0 auto; text-align: left;">
        <h2 style="color: white; margin-bottom: 30px; font-size: 2em;">Methodology & Data Sources</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px;">
          <div>
            <h3 style="color: #4ECDC4; margin-bottom: 20px;">Data Collection & Processing</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              Our visualization uses official federal contracting data from:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>USAspending.gov API (Primary data source)</li>
                <li>Federal Procurement Data System (FPDS)</li>
                <li>System for Award Management (SAM.gov)</li>
              </ul>
              <br>
              Data processing steps include:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Aggregating contract values by recipient and fiscal year</li>
                <li>Normalizing company names for consistent display</li>
                <li>Categorizing contractors by primary business activity</li>
                <li>Converting fiscal year dates to calendar dates</li>
              </ul>
            </p>
          </div>
          <div>
            <h3 style="color: #4ec5cd; margin-bottom: 20px;">How to Use This Tool</h3>
            <p style="line-height: 1.6; margin-bottom: 20px;">
              To explore the visualization:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Select a state using the buttons to view state-specific data</li>
                <li>Use play/pause to control the animation</li>
                <li>Hover over bars to see detailed contractor information</li>
                <li>Use the legend to understand contractor categories</li>
                <li>Watch the year indicator to track temporal changes</li>
              </ul>
              <br>
              Key Features:
              <ul style="margin-top: 10px; margin-left: 20px;">
                <li>Updates of contract values</li>
                <li>Interactive state selection and morphing</li>
                <li>Detailed tooltips with contract information</li>
                <li>Color-coded categorization of contractors</li>
              </ul>
            </p>
          </div>
        </div>

        <div style="background: #1a1a1a; padding: 20px; border-radius: 8px; margin-top: 20px;">
          <h3 style="color: whitesmoke; margin-bottom: 20px;">Data Sources & Acknowledgements</h3>
          <p style="line-height: 1.6;">
            This visualization is powered by data from <a href="https://www.usaspending.gov/" style="color: #cd984e;">USAspending.gov</a>, 
            the official source for federal spending data. Built using <a href="https://d3js.org/" style="color: #cd984e;">D3.js</a> for 
            visualization and animation. Special thanks to the USAspending.gov team for providing the API access and documentation.
          </p>
          <p style="line-height: 1.6; margin-top: 10px;">
            Last data update: May 2024 | Data refresh frequency: Monthly | 
            <a href="https://www.usaspending.gov/data" style="color: #cd984e;">Access the raw data</a>
          </p>
        </div>
      </div>
    </section>

    <!-- Footer section -->
    <footer>
      <div class="footer-content">
        <div class="footer-section">
          <h3>About</h3>
          <p>© 2024 Federal Contracting Analysis</p>
          <p>All rights reserved.</p>
        </div>
        <div class="footer-section">
          <h3>Resources</h3>
          <ul>
            <li>Documentation</li>
            <li>Data Sources</li>
            <li>Methodology</li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Contact</h3>
          <ul>
            <li>Support</li>
            <li>Feedback</li>
            <li>GitHub</li>
          </ul>
        </div>
      </div>
    </footer>
  </div>
  
  <script>
    // Set d3 to v4 for map
    d3 = d3v4;
  </script>
  <script src="../JS/map.js"></script>

  <script>
    // Set d3 to v6 for chart
    d3 = d3v6;
  </script>
  <script src="../JS/treemap.js"></script>
</body>
</html>
